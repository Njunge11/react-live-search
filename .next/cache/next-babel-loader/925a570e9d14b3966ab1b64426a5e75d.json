{"ast":null,"code":"import axios from \"axios\";\nlet cancel;\n\nconst search = async query => {\n  if (cancel) {\n    cancel.cancel();\n  }\n\n  cancel = axios.CancelToken.source();\n\n  try {\n    const res = await axios(query, {\n      CancelToken: cancel.token\n    });\n    const result = res.data.results;\n    console.log(\"the result\", result);\n  } catch (error) {\n    if (axios.isCancel(error)) {\n      console.log(\"Request canceled \", error.message);\n    } else {\n      console.log(\"Something went wrong: \", error.message);\n    }\n  }\n};\n\nexport default search;","map":{"version":3,"sources":["/home/njunge/Projects/front-end/react-live-search/src/utils.js"],"names":["axios","cancel","search","query","CancelToken","source","res","token","result","data","results","console","log","error","isCancel","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAIC,MAAJ;;AACA,MAAMC,MAAM,GAAG,MAAMC,KAAN,IAAe;AAC5B,MAAIF,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACA,MAAP;AACD;;AACDA,EAAAA,MAAM,GAAGD,KAAK,CAACI,WAAN,CAAkBC,MAAlB,EAAT;;AACA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMN,KAAK,CAACG,KAAD,EAAQ;AAAEC,MAAAA,WAAW,EAAEH,MAAM,CAACM;AAAtB,KAAR,CAAvB;AACA,UAAMC,MAAM,GAAGF,GAAG,CAACG,IAAJ,CAASC,OAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BJ,MAA1B;AACD,GAJD,CAIE,OAAOK,KAAP,EAAc;AACd,QAAIb,KAAK,CAACc,QAAN,CAAeD,KAAf,CAAJ,EAA2B;AACzBF,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCC,KAAK,CAACE,OAAvC;AACD,KAFD,MAEO;AACLJ,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCC,KAAK,CAACE,OAA5C;AACD;AACF;AACF,CAhBD;;AAkBA,eAAeb,MAAf","sourcesContent":["import axios from \"axios\";\nlet cancel;\nconst search = async query => {\n  if (cancel) {\n    cancel.cancel();\n  }\n  cancel = axios.CancelToken.source();\n  try {\n    const res = await axios(query, { CancelToken: cancel.token });\n    const result = res.data.results;\n    console.log(\"the result\", result);\n  } catch (error) {\n    if (axios.isCancel(error)) {\n      console.log(\"Request canceled \", error.message);\n    } else {\n      console.log(\"Something went wrong: \", error.message);\n    }\n  }\n};\n\nexport default search;\n"]},"metadata":{},"sourceType":"module"}